# 🔧 RSS源管理后台使用说明

## 🎉 新功能

现在您可以通过网页后台直接管理RSS源，无需修改代码！

---

## 🔐 访问后台

### 后台地址：
```
https://您的域名.railway.app/admin.html
```

### 默认密码：
```
admin123
```

⚠️ **重要：首次登录后请立即修改密码！**

---

## ✨ 功能列表

### 1. 查看所有RSS源
- 显示RSS源名称、链接
- 显示启用/禁用状态
- 实时更新

### 2. 添加新RSS源
1. 点击 **"+ 添加RSS源"** 按钮
2. 填写：
   - 名称：例如"机器之心"
   - RSS链接：完整的RSS地址
3. 点击 **"保存"**
4. ✅ 自动生效，下次抓取时会包含新RSS源

### 3. 编辑RSS源
1. 点击RSS源右侧的 **"编辑"** 按钮
2. 修改名称或链接
3. 点击 **"保存"**

### 4. 启用/禁用RSS源
- 点击 **"禁用"** 按钮：暂停抓取该RSS源
- 点击 **"启用"** 按钮：恢复抓取
- 💡 禁用的RSS源不会被删除，可随时重新启用

### 5. 删除RSS源
1. 点击 **"删除"** 按钮
2. 确认删除
3. ⚠️ 删除后无法恢复

---

## 📝 操作示例

### 示例1：添加新公众号

**假设要添加"AI科技评论"这个公众号：**

1. 访问：`https://您的域名.railway.app/admin.html`
2. 输入密码登录
3. 点击 **"+ 添加RSS源"**
4. 填写：
   - 名称：`AI科技评论`
   - RSS链接：`https://we-mp-rss.../feed/MP_WXS_xxxxxxx.rss`
5. 点击 **"保存"**
6. ✅ 完成！15分钟后自动抓取新公众号的文章

### 示例2：暂时禁用某个RSS源

**假设"WAIC"这个公众号很久不更新了，想暂时禁用：**

1. 登录后台
2. 找到"WAIC"这一行
3. 点击 **"禁用"** 按钮
4. ✅ 完成！该RSS源暂停抓取（不会删除已有文章）

需要时，再点击 **"启用"** 即可恢复。

---

## 🔒 安全建议

### 1. 修改默认密码

**首次登录后立即修改：**

目前需要手动修改 `rss-config.json` 文件：
```json
{
  "password": "您的新密码",
  "feeds": [...]
}
```

或通过 Railway CLI：
```bash
railway run nano rss-config.json
```

### 2. 不要分享后台地址

- 后台地址只给需要管理的人
- 密码不要使用简单密码
- 定期更换密码

### 3. 备份配置

定期下载 `rss-config.json` 备份：
- Railway → 项目 → Volumes
- 或通过 Git 备份（不要提交密码）

---

## 📁 配置文件说明

### rss-config.json 结构

```json
{
  "password": "admin123",
  "feeds": [
    {
      "id": "1",
      "name": "量子位",
      "url": "https://we-mp-rss.../feed/xxx.rss",
      "enabled": true
    },
    {
      "id": "2",
      "name": "机器之心",
      "url": "https://we-mp-rss.../feed/yyy.rss",
      "enabled": false
    }
  ]
}
```

**字段说明：**
- `password`: 登录密码
- `id`: RSS源唯一标识（自动生成）
- `name`: 显示名称
- `url`: RSS链接
- `enabled`: 是否启用（true/false）

---

## 🐛 常见问题

### Q1: 忘记密码怎么办？

**解决方法：**

通过 Railway 修改配置文件：
1. Railway → 项目 → Deployments → View Logs
2. 点击 "Open Shell"
3. 运行：
   ```bash
   echo '{"password":"admin123","feeds":[]}' > rss-config.json
   ```
4. 重启服务

### Q2: 添加RSS源后没有文章？

**原因：**
- RSS链接可能不正确
- 该公众号暂时没有新文章
- 等待15分钟后自动抓取

**解决：**
1. 检查RSS链接是否正确
2. 在浏览器直接访问RSS链接测试
3. 查看 Railway 日志是否有错误

### Q3: 修改后需要重启吗？

**不需要！** 所有修改立即生效：
- 添加/删除RSS源：下次抓取时生效
- 启用/禁用：下次抓取时生效
- 无需重启服务器

---

## 💡 高级用法

### 批量导入RSS源

如果有很多RSS源要添加，可以直接编辑 `rss-config.json`：

```json
{
  "password": "your-password",
  "feeds": [
    {"id":"1","name":"公众号1","url":"https://...","enabled":true},
    {"id":"2","name":"公众号2","url":"https://...","enabled":true},
    {"id":"3","name":"公众号3","url":"https://...","enabled":true}
  ]
}
```

上传到 Railway 即可。

---

## 🎯 最佳实践

1. **定期检查RSS源**
   - 删除长期不更新的公众号
   - 添加新的优质公众号

2. **合理数量**
   - 建议 5-15 个RSS源
   - 太多会影响抓取速度

3. **分类管理**
   - 用名称前缀分类，如"[AI]量子位"
   - 方便识别和管理

4. **测试后再启用**
   - 新添加的RSS源先测试
   - 确认能正常抓取再启用

---

## ✅ 总结

**有了后台管理功能，您可以：**

✅ 无需修改代码
✅ 实时添加/删除RSS源
✅ 灵活启用/禁用
✅ 网页操作，简单直观
✅ 修改立即生效

**访问后台开始管理吧！** 🚀

```
https://您的域名.railway.app/admin.html
```

默认密码：`admin123`
